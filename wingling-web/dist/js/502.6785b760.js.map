{"version":3,"file":"js/502.6785b760.js","mappings":"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","sources":["webpack://wingling-web/./src/views/ClockManagement/index.vue","webpack://wingling-web/./src/components/SwipeToDoItem/index.vue","webpack://wingling-web/src/components/SwipeToDoItem/index.vue","webpack://wingling-web/./src/components/SwipeToDoItem/index.vue?91b0","webpack://wingling-web/./src/components/SwipeToDoItem/index.vue?6c5e","webpack://wingling-web/./src/apis/clockManagement/index.js","webpack://wingling-web/src/views/ClockManagement/index.vue","webpack://wingling-web/./src/views/ClockManagement/index.vue?a0d4","webpack://wingling-web/./src/views/ClockManagement/index.vue?0f95"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"clockManagement\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"考勤管理\")]),_c('div',{staticClass:\"clockManagement_header\"},[_vm._m(0),_c('div',{staticClass:\"header_right\",on:{\"click\":_vm.exportFile}},[_c('img',{attrs:{\"src\":\"/assets/images/clockManagement/export.png\",\"alt\":\"export\"}}),_c('div',{staticClass:\"header_right_action\"},[_vm._v(\"导出报表\")])])]),(_vm.makeUpClockList.length)?_c('div',{staticClass:\"main\"},_vm._l((_vm.makeUpClockList),function(item){return _c('SwipeToDoItem',{key:item._id,attrs:{\"item\":item},on:{\"reject\":_vm.rejectItem,\"passed\":_vm.passedItem},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"application_item\"},[_c('div',{staticClass:\"item_title\"},[_c('div',{staticClass:\"title_left\"},[_vm._v(\" \"+_vm._s(item.userInfo.realname)+\"提交的补卡 \")]),_c('div',{staticClass:\"title_right\"},[_vm._v(_vm._s(item.date))])]),_c('div',{staticClass:\"item_main\"},[_c('div',{staticClass:\"main_left\"},[_c('div',{staticClass:\"application_total\"},[_vm._v(\" 补卡时长：\"+_vm._s(item.duration)+\"分钟 \")]),_c('div',{staticClass:\"application_reason\"},[_vm._v(\" 补卡理由：\"+_vm._s(item.reason)+\" \")])]),_c('div',{staticClass:\"main_right\"},[_c('div',{staticClass:\"application_time\"},[_vm._v(\" 起始时间：\"+_vm._s(item.startTime)+\" \")]),_c('div',{staticClass:\"application_time\"},[_vm._v(\"结束时间：\"+_vm._s(item.endTime))])])]),_c('div',{staticClass:\"item_footer\"},[_c('div',{staticClass:\"footer_left\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.userInfo.avatar,\"alt\":\"avatar\"}}),_c('div',{staticClass:\"application_person\"},[_vm._v(\" 由\"+_vm._s(item.userInfo.realname)+\"提交 \")])])])])]},proxy:true}],null,true)})}),1):_c('div',{staticClass:\"main empty\"},[_c('wingling-empty',{attrs:{\"image-size\":200,\"description\":\"暂无待处理补卡申请\"}})],1),(_vm.showRejectReasonModal)?_c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"modal-content\"},[_c('span',{staticClass:\"close\",on:{\"click\":_vm.closeRejectReasonModal}},[_vm._v(\"×\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('InputBox',{attrs:{\"imgSrc\":\"/assets/images/clockManagement/reject.png\",\"placeholder\":\"拒绝原因\",\"type\":\"text\",\"minlength\":5,\"tips\":\"请正确输入拒绝原因\"},model:{value:(_vm.rejectReason),callback:function ($$v) {_vm.rejectReason=$$v},expression:\"rejectReason\"}}),_c('div',{staticClass:\"form_footer\"},[_c('button',{staticClass:\"btn cancel\",on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"submit\"}},[_vm._v(\"确定\")])])],1)])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header_left\"},[_c('img',{attrs:{\"src\":\"/assets/images/logo.png\",\"alt\":\"logo-img\"}}),_c('div',{staticClass:\"header_title_company\"},[_vm._v(\"翼灵物联网工作室\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"swipe-to-reject-item\",class:{ swiping: _vm.isSwiping },on:{\"touchstart\":_vm.handleTouchStart,\"touchmove\":_vm.handleTouchMove,\"touchend\":_vm.handleTouchEnd}},[_c('div',{staticClass:\"item-content\"},[_vm._t(\"content\")],2),(_vm.isPC)?_c('div',{staticClass:\"pc-reject\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handleShowOptions.apply(null, arguments)}}},[_c('div',{staticClass:\"options\"},[_c('i',{staticClass:\"el-icon-more-outline\"}),(_vm.showOptions)?_c('div',{staticClass:\"options-popup\"},[_c('div',{staticClass:\"option passed\",on:{\"click\":_vm.confirmPassed}},[_vm._v(\"通过\")]),_c('div',{staticClass:\"option reject\"},[_c('wingling-popconfirm',{attrs:{\"confirm-button-type\":\"danger\",\"cancel-button-type\":\"info\",\"confirm-button-text\":\"确认\",\"cancel-button-text\":\"取消\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":`确认拒绝${_vm.item.userInfo.realname}的补卡申请吗？`},on:{\"confirm\":_vm.confirmReject,\"cancel\":_vm.cancelReject}},[_c('span',{attrs:{\"slot\":\"reference\"},on:{\"click\":function($event){$event.stopPropagation();}},slot:\"reference\"},[_vm._v(\"拒绝\")])])],1)]):_vm._e()])]):_c('div',{staticClass:\"reject_passed-button\",class:{ active: _vm.isButtonActive }},[_c('div',{staticClass:\"rejectBtn\",on:{\"click\":_vm.confirmReject}},[_vm._v(\"拒绝\")]),_c('div',{staticClass:\"passedBtn\",on:{\"click\":_vm.confirmPassed}},[_vm._v(\"通过\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"swipe-to-reject-item\"\n    :class=\"{ swiping: isSwiping }\"\n    @touchstart=\"handleTouchStart\"\n    @touchmove=\"handleTouchMove\"\n    @touchend=\"handleTouchEnd\"\n  >\n    <div class=\"item-content\">\n      <slot name=\"content\"></slot>\n    </div>\n    <div class=\"pc-reject\" @click.stop=\"handleShowOptions\" v-if=\"isPC\">\n      <div class=\"options\">\n        <i class=\"el-icon-more-outline\"></i>\n        <div class=\"options-popup\" v-if=\"showOptions\">\n          <div class=\"option passed\" @click=\"confirmPassed\">通过</div>\n          <div class=\"option reject\">\n            <wingling-popconfirm\n              confirm-button-type=\"danger\"\n              cancel-button-type=\"info\"\n              confirm-button-text=\"确认\"\n              cancel-button-text=\"取消\"\n              icon=\"el-icon-info\"\n              icon-color=\"red\"\n              @confirm=\"confirmReject\"\n              @cancel=\"cancelReject\"\n              :title=\"`确认拒绝${item.userInfo.realname}的补卡申请吗？`\"\n            >\n              <span slot=\"reference\" @click.stop>拒绝</span>\n            </wingling-popconfirm>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      v-else\n      class=\"reject_passed-button\"\n      :class=\"{ active: isButtonActive }\"\n    >\n      <div class=\"rejectBtn\" @click=\"confirmReject\">拒绝</div>\n      <div class=\"passedBtn\" @click=\"confirmPassed\">通过</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      isSwiping: false,\n      startX: 0,\n      currentX: 0,\n      deltaX: 0,\n      isButtonActive: false,\n      isPC: window.innerWidth > 820,\n      showOptions: false,\n    };\n  },\n  methods: {\n    handleResize() {\n      this.isPC = window.innerWidth > 820;\n    },\n    handleTouchStart(event) {\n      this.startX = event.touches[0].clientX;\n      this.currentX = this.startX;\n      this.deltaX = 0;\n      this.isSwiping = false;\n      this.isButtonActive = false;\n    },\n    handleTouchMove(event) {\n      const touch = event.touches[0];\n      this.currentX = touch.clientX;\n      this.deltaX = this.currentX - this.startX;\n      this.isSwiping = Math.abs(this.deltaX) > 10;\n\n      this.$root.$emit(\"hideRejectButtons\", this.item);\n\n      this.isButtonActive = this.deltaX < -80;\n    },\n    handleTouchEnd() {\n      if (this.isSwiping) {\n        this.isSwiping = false;\n      }\n    },\n    confirmReject() {\n      this.$emit(\"reject\", this.item);\n      this.isButtonActive = false;\n    },\n    handleShowOptions() {\n      this.showOptions = true;\n    },\n    cancelReject() {\n      this.showOptions = false;\n    },\n    confirmPassed() {\n      this.$emit(\"passed\", this.item);\n      this.isButtonActive = false;\n    }\n  },\n  created() {\n    window.addEventListener(\"resize\", this.handleResize);\n    this.$root.$on(\"hideRejectButtons\", (itemToExclude) => {\n      if (this.item !== itemToExclude) {\n        this.isButtonActive = false;\n      }\n    });\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.handleResize);\n    this.$root.$off(\"hideRejectButtons\");\n  },\n};\n</script>\n  \n<style lang=\"scss\" scoped>\n.swipe-to-reject-item {\n  position: relative;\n  transition: transform 0.3s;\n  height: 130px;\n  overflow: hidden;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  border-radius: 5px;\n  margin-bottom: 10px;\n  .swiping .item-content {\n    transform: translateX(var(--deltaX));\n  }\n  .item-content {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    transition: transform 0.3s;\n    padding: 10px;\n    box-sizing: border-box;\n    background-color: #f6f6f6;\n\n    @media screen and (min-width: 820px) {\n      margin-right: 50px;\n    }\n  }\n  .reject_passed-button {\n    position: absolute;\n    font-weight: bolder;\n    top: 0;\n    right: -80px;\n    width: 80px;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: right 0.3s;\n    display: flex;\n    flex-direction: column;\n    .rejectBtn {\n      flex: 1;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      background-color: #f7b3b3;\n      color: #ff4d4f;\n    }\n\n    .passedBtn {\n      flex: 1;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      background-color: #c2fae2;\n      color: #19c37d;\n    }\n  }\n  .active {\n    right: 0;\n  }\n\n  .pc-reject {\n    background-color: #f6f6f6;\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 50px;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    .options {\n      width: 100%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: relative;\n      i {\n        transform: rotate(90deg);\n      }\n\n      .options-popup {\n        width: 100%;\n        position: absolute;\n        right: 0;\n        background-color: #f6f6f6;\n        border-radius: 5px;\n        padding: 5px;\n        box-sizing: border-box;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n\n        .option {\n          padding: 5px;\n          text-align: center;\n          border-radius: 5px;\n          cursor: default;\n          margin-bottom: 5px;\n          transition: all 0.2s ease-in-out;\n\n          &.reject {\n            color: #ff4d4f;\n\n            &:hover {\n              background-color: #f4e7e7;\n              font-weight: bolder;\n            }\n          }\n\n          &.passed {\n            color: #19c37d;\n\n            &:hover {\n              background-color: #d9f8eb;\n              font-weight: bolder;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=788be7b2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=788be7b2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"788be7b2\",\n  null\n  \n)\n\nexport default component.exports","import instance from \"@/utils/request\";\n\nexport const getMakeUpClock = () => {\n    return instance.get(\"/api/makeupClock/get\");\n}\n\nexport const handleMakeUpClock = (id, params) => {\n    return instance.put(`/api/makeupClock/update/${id}`, params);\n}\n\nexport const handleExportClock = async () => {\n    try {\n        const response = await instance.get('/api/clock/export', {\n            responseType: 'blob',\n        });\n\n        const excelBlob = response;\n\n        // 创建一个虚拟的下载链接，使用户可以点击下载\n        const link = document.createElement('a');\n        link.href = URL.createObjectURL(excelBlob);\n        link.download = 'weekly_report.xlsx'; // 下载的文件名\n        link.style.display = 'none';\n\n        // 将链接添加到 DOM 并触发点击事件\n        document.body.appendChild(link);\n        link.click();\n\n        // 清理链接对象\n        document.body.removeChild(link);\n        URL.revokeObjectURL(link.href);\n    } catch (error) {\n        console.error('发生错误:', error);\n    }\n};\n","<template>\n  <div class=\"clockManagement\">\n    <div class=\"title\">考勤管理</div>\n    <div class=\"clockManagement_header\">\n      <div class=\"header_left\">\n        <img src=\"/assets/images/logo.png\" alt=\"logo-img\" />\n        <div class=\"header_title_company\">翼灵物联网工作室</div>\n      </div>\n      <div class=\"header_right\" @click=\"exportFile\">\n        <img src=\"/assets/images/clockManagement/export.png\" alt=\"export\" />\n        <div class=\"header_right_action\">导出报表</div>\n      </div>\n    </div>\n    <div class=\"main\" v-if=\"makeUpClockList.length\">\n      <SwipeToDoItem\n        v-for=\"item in makeUpClockList\"\n        :key=\"item._id\"\n        :item=\"item\"\n        @reject=\"rejectItem\"\n        @passed=\"passedItem\"\n      >\n        <template #content>\n          <div class=\"application_item\">\n            <div class=\"item_title\">\n              <div class=\"title_left\">\n                {{ item.userInfo.realname }}提交的补卡\n              </div>\n              <div class=\"title_right\">{{ item.date }}</div>\n            </div>\n            <div class=\"item_main\">\n              <div class=\"main_left\">\n                <div class=\"application_total\">\n                  补卡时长：{{ item.duration }}分钟\n                </div>\n                <div class=\"application_reason\">\n                  补卡理由：{{ item.reason }}\n                </div>\n              </div>\n              <div class=\"main_right\">\n                <div class=\"application_time\">\n                  起始时间：{{ item.startTime }}\n                </div>\n                <div class=\"application_time\">结束时间：{{ item.endTime }}</div>\n              </div>\n            </div>\n            <div class=\"item_footer\">\n              <div class=\"footer_left\">\n                <img class=\"avatar\" :src=\"item.userInfo.avatar\" alt=\"avatar\" />\n                <div class=\"application_person\">\n                  由{{ item.userInfo.realname }}提交\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </SwipeToDoItem>\n    </div>\n    <div class=\"main empty\" v-else>\n      <wingling-empty\n        :image-size=\"200\"\n        description=\"暂无待处理补卡申请\"\n      ></wingling-empty>\n    </div>\n    <div v-if=\"showRejectReasonModal\" class=\"modal\">\n      <div class=\"modal-content\">\n        <span class=\"close\" @click=\"closeRejectReasonModal\">&times;</span>\n        <form @submit.prevent=\"onSubmit\">\n          <InputBox\n            imgSrc=\"/assets/images/clockManagement/reject.png\"\n            placeholder=\"拒绝原因\"\n            v-model=\"rejectReason\"\n            type=\"text\"\n            :minlength=\"5\"\n            tips=\"请正确输入拒绝原因\"\n          />\n          <div class=\"form_footer\">\n            <button @click=\"cancel\" class=\"btn cancel\">取消</button>\n            <button type=\"submit\" class=\"btn\">确定</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n  \n<script>\nimport SwipeToDoItem from \"@/components/SwipeToDoItem\";\nimport InputBox from \"@/components/InputBox\";\nimport {\n  getMakeUpClock,\n  handleMakeUpClock,\n  handleExportClock\n} from \"@/apis/clockManagement/index\";\nimport showNotice from \"@/utils/notice\";\nexport default {\n  data() {\n    return {\n      makeUpClockList: [],\n      rejectReason: \"\",\n      showRejectReasonModal: false,\n      itemToReject: null,\n      itemToPassed: null,\n    };\n  },\n  components: {\n    SwipeToDoItem,\n    InputBox,\n  },\n  methods: {\n    rejectItem(itemToReject) {\n      this.itemToReject = this.makeUpClockList.find(\n        (item) => item._id === itemToReject._id\n      );\n      if (this.itemToReject) {\n        this.showRejectReasonModal = true;\n      }\n    },\n    async passedItem(itemToPassed) {\n      this.itemToPassed = this.makeUpClockList.find(\n        (item) => item._id === itemToPassed._id\n      );\n      if (this.itemToPassed) {\n        const params = {\n          status: \"pass\",\n        };\n        try {\n          await handleMakeUpClock(this.itemToPassed._id, params);\n          showNotice(\"success\", \"处理成功\");\n        } catch (err) {\n          console.warn(err);\n        }\n        this.initMakeUpClockList();\n      }\n    },\n    async initMakeUpClockList() {\n      const { data } = await getMakeUpClock();\n      data.forEach((record) => {\n        record.userInfo.avatar = `${process.env.VUE_APP_API_BASE_URL}${record.userInfo.avatar}`;\n      });\n      this.makeUpClockList = data;\n    },\n    closeRejectReasonModal() {\n      this.showRejectReasonModal = false;\n    },\n    async onSubmit() {\n      const params = {\n        rejectReason: this.rejectReason,\n        status: \"reject\",\n      };\n      try {\n        await handleMakeUpClock(this.itemToReject._id, params);\n        showNotice(\"success\", \"处理成功\");\n      } catch (err) {\n        console.warn(err);\n      }\n      this.rejectReason = \"\";\n      this.showRejectReasonModal = false;\n      this.initMakeUpClockList();\n    },\n    cancel() {\n      this.rejectReason = \"\";\n      this.showRejectReasonModal = false;\n    },\n    exportFile() {\n      handleExportClock()\n    }\n  },\n  created() {\n    this.initMakeUpClockList();\n  },\n};\n</script>\n  <style lang=\"scss\" scoped>\n.clockManagement {\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  padding: 5px;\n  height: calc(100% - 96px);\n\n  .title {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 5px;\n    background-color: #fff;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n    text-align: center;\n    height: 40px;\n    padding: 5px;\n    font-size: 18px;\n    font-weight: bolder;\n  }\n\n  .clockManagement_header {\n    display: flex;\n    height: 120px;\n    background-color: #fff;\n    align-items: center;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n    justify-content: space-between;\n    border-radius: 10px;\n    margin-top: 5px;\n    margin-bottom: 5px;\n\n    .header_left {\n      margin-left: 20px;\n      display: flex;\n      align-items: center;\n\n      img {\n        width: 55px;\n        height: 55px;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n        border-radius: 10px;\n        margin-right: 10px;\n      }\n      .header_title_company {\n        font-size: 18px;\n        font-weight: bold;\n        margin-bottom: 5px;\n      }\n    }\n\n    .header_right {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin-right: 20px;\n      flex-direction: column;\n\n      &:active {\n        font-weight: bolder;\n        color: #000;\n      }\n\n      img {\n        width: 40px;\n        height: 40px;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n        border-radius: 8px;\n      }\n\n      .header_right_action {\n        font-size: 14px;\n        color: #999;\n        text-align: center;\n        margin-top: 5px;\n      }\n    }\n  }\n\n  .main {\n    margin-top: 5px;\n    height: 100%;\n    overflow: auto;\n    box-sizing: border-box;\n    padding: 10px;\n    border-radius: 10px;\n    background-color: #fff;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n\n    .application_item {\n      display: flex;\n      justify-content: center;\n      flex-direction: column;\n\n      .item_title {\n        display: flex;\n        margin: 5px 0;\n        justify-content: space-between;\n\n        .title_left {\n          font-size: 18px;\n        }\n\n        .title_right {\n          font-size: 12px;\n          color: #808080;\n        }\n      }\n\n      .item_main {\n        display: flex;\n        margin: 5px 0;\n        justify-content: space-between;\n        color: #808080;\n        font-size: 14px;\n\n        .main_left {\n          .application_reason {\n            margin-top: 5px;\n          }\n        }\n\n        .main_right {\n          .application_time {\n            margin-top: 5px;\n          }\n        }\n      }\n\n      .item_footer {\n        display: flex;\n        align-items: center;\n        margin-top: 5px;\n        font-size: 14px;\n\n        .footer_left {\n          display: flex;\n          align-items: center;\n\n          img {\n            height: 20px;\n            width: 20px;\n            border-radius: 5px;\n            margin-right: 2px;\n            box-shadow: 5px 5px 15px -4px rgba(0, 0, 0, 0.5);\n          }\n        }\n      }\n    }\n  }\n\n  .empty {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .modal {\n    display: block;\n    position: fixed;\n    z-index: 999;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.7);\n\n    .modal-content {\n      @media screen and (min-width: 768px) {\n        width: 660px;\n      }\n\n      width: 85%;\n      display: block;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background-color: #fff;\n      padding: 25px;\n      box-sizing: border-box;\n      border-radius: 10px;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n\n      .close {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        font-size: 20px;\n        font-weight: bolder;\n        cursor: default;\n      }\n\n      form {\n        .form_footer {\n          display: flex;\n          justify-content: flex-end;\n\n          .cancel {\n            margin-right: 10px;\n          }\n\n          .btn {\n            height: 40px;\n            width: 60px;\n            background-color: #fff;\n            border-radius: 10px;\n            border: none;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n            transition: transform 0.2s;\n            font-weight: bolder;\n            color: #808080;\n            font-size: 16px;\n\n            &:active {\n              transform: translateY(2px);\n              box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n              font-size: 15px;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9d0ab86c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=9d0ab86c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d0ab86c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_m","on","exportFile","attrs","makeUpClockList","length","_l","item","key","_id","rejectItem","passedItem","scopedSlots","_u","fn","_s","userInfo","realname","date","duration","reason","startTime","endTime","avatar","proxy","showRejectReasonModal","closeRejectReasonModal","$event","preventDefault","onSubmit","apply","arguments","model","value","rejectReason","callback","$$v","expression","cancel","_e","staticRenderFns","class","swiping","isSwiping","handleTouchStart","handleTouchMove","handleTouchEnd","_t","isPC","stopPropagation","handleShowOptions","showOptions","confirmPassed","confirmReject","cancelReject","slot","active","isButtonActive","props","type","Object","required","data","startX","currentX","deltaX","window","innerWidth","methods","handleResize","event","touches","clientX","touch","Math","abs","$root","$emit","created","addEventListener","$on","itemToExclude","beforeDestroy","removeEventListener","$off","component","getMakeUpClock","instance","handleMakeUpClock","id","params","handleExportClock","async","response","responseType","excelBlob","link","document","createElement","href","URL","createObjectURL","download","style","display","body","appendChild","click","removeChild","revokeObjectURL","error","console","itemToReject","itemToPassed","components","SwipeToDoItem","InputBox","find","status","showNotice","err","warn","initMakeUpClockList","forEach","record"],"sourceRoot":""}