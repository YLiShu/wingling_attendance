<template>
  <div class="footer_guide">
    <Icon
      v-for="(item, index) in navbarList"
      :key="index"
      :name="item.text"
      :activeIcon="$route.path.substring(1)"
      :svgContent="item.svgContent"
      @clickHandler="goTo"
    />
  </div>
</template>

<script>
import router from "@/router";
import Icon from "../Icon/index.vue";
export default {
  components: {
    Icon,
  },
  data() {
    return {
      navbarList: [
        {
          text: "statistics",
          svgContent:
            '<svg t="1690190484077" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31378" width="36" height="36"><path class="p" d="M930 900c16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30H94c-16.569 0-30-13.431-30-30 0-16.569 13.431-30 30-30h836zM632 64c33.137 0 60 26.863 60 60v686c0 33.137-26.863 60-60 60H392c-33.137 0-60-26.863-60-60V124c0-33.137 26.863-60 60-60zM274 220c16.569 0 30 13.431 30 30 0 16.403-13.164 29.731-29.504 29.996L274 280H124v530h150c16.569 0 30 13.431 30 30 0 16.403-13.164 29.731-29.504 30H124c-32.806 0-59.462-26.328-59.992-59.008L64 810V280c0-32.806 26.328-59.462 59.008-59.992L124 220h150z m626 147l0.992 0.008C933.672 367.538 960 394.194 960 427v383l-0.008 0.992C959.462 843.672 932.806 870 900 870H749.504c-16.34-0.269-29.504-13.597-29.504-30 0-16.569 13.431-30 30-30h150V427H750l-0.496-0.004C733.164 426.731 720 413.403 720 397c0-16.569 13.431-30 30-30h150zM632 124H392v686h240V124z m171.1 353.4c30.8 0 51 14.4 51 41 0 14.8-8 26.4-24 32.8v1c16.6 5 28.8 17 28.8 36.2 0 27.8-25.4 43.4-55 43.4-23.6 0-40.2-8.2-51-20.8l16.4-22.4c9 8.6 19.4 14.4 31 14.4 13.8 0 22.8-5.8 22.8-17 0-12.8-6.8-20.4-38-20.4v-25c25.4 0 33.4-7.8 33.4-19.6 0-10.2-6-15.8-17-15.8-10 0-17.6 4.6-26.6 12.4l-18-21.8c13.8-11.6 28.6-18.4 46.2-18.4z m-587-148c28.8 0 48.8 18.4 48.8 46.8 0 25.6-22 53.8-44.8 76.8 7.4-1 17.6-2 24.2-2h27.4v30H168.5v-20.4c37.2-33.8 62.2-60.8 62.2-82.4 0-13.6-7.6-21-19.4-21-10.2 0-18.2 6.8-25.2 14.4l-19.4-19.2c14.6-15.4 28.2-23 49.4-23z m317.8-152.2v120h26.8V326h-94v-28.8h31.6v-84.6h-27.4v-22c16-3 26.4-7 36.8-13.4h26.2z" fill="#000000" p-id="31379"></path></svg>',
        },
        {
          text: "msite",
          svgContent:
            '<svg t="1690189701987" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1934" width="36" height="36" data-spm-anchor-id="a313x.7781069.0.i5"><path class="p" d="M774.0416 925.6448H253.0816c-86.4768 0-156.8256-70.3488-156.8256-156.8256V295.3728c0-86.4768 70.3488-156.8256 156.8256-156.8256h520.9088c86.4768 0 156.8256 70.3488 156.8256 156.8256v473.4464c0.0512 86.4768-70.2976 156.8256-156.7744 156.8256zM253.0816 210.2272c-46.9504 0-85.1456 38.1952-85.1456 85.1456v473.4464c0 46.9504 38.1952 85.1456 85.1456 85.1456h520.9088c46.9504 0 85.1456-38.1952 85.1456-85.1456V295.3728c0-46.9504-38.1952-85.1456-85.1456-85.1456H253.0816z" fill="#2c2c2c" p-id="1935"></path><path class="p" d="M895.0272 390.4H132.096c-19.8144 0-35.84-16.0256-35.84-35.84V295.3728c0-86.4768 70.3488-156.8256 156.8256-156.8256h520.9088c86.4768 0 156.8256 70.3488 156.8256 156.8256v59.1872c0.0512 19.8144-16.0256 35.84-35.7888 35.84z m-727.0912-71.68h691.2512v-23.3472c0-46.9504-38.1952-85.1456-85.1456-85.1456H253.0816c-46.9504 0-85.1456 38.1952-85.1456 85.1456v23.3472z" fill="#2c2c2c" p-id="1936"></path><path class= d="M339.968 278.0672c-19.8144 0-35.84-16.0256-35.84-35.84V127.4368c0-19.8144 16.0256-35.84 35.84-35.84s35.84 16.0256 35.84 35.84v114.7904c0 19.8144-16.0256 35.84-35.84 35.84zM687.1552 278.0672c-19.8144 0-35.84-16.0256-35.84-35.84V127.4368c0-19.8144 16.0256-35.84 35.84-35.84s35.84 16.0256 35.84 35.84v114.7904c0 19.8144-16.0768 35.84-35.84 35.84z" fill="#2c2c2c" p-id="1937"></path><path class="p" d="M486.5536 728.064c-14.2336 0-27.9552-5.888-37.7856-16.2304l-90.3168-95.1296a35.84 35.84 0 0 1 1.3312-50.688c14.336-13.6192 37.0688-13.056 50.688 1.3312l75.8272 79.872 147.2512-161.4848c13.312-14.6432 35.9936-15.6672 50.6368-2.3552 14.6432 13.312 15.6672 35.9936 2.3552 50.6368l-161.4336 177.0496c-9.728 10.6496-23.552 16.8448-37.9904 16.9984h-0.5632z" fill="#2c2c2c" p-id="1938" data-spm-anchor-id="a313x.7781069.0.i6"></path></svg>',
        },
        {
          text: "profile",
          svgContent:
            '<svg t="1690190382401" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="27476" width="36" height="36"><path class="p" d="M512.36 1023.25C230.26 1023.25 0.74 793.73 0.74 511.64 0.74 229.52 230.26 0 512.36 0 794.48 0 1024 229.52 1024 511.64c0 282.09-229.52 511.61-511.64 511.61z m0-938.34c-235.3 0-426.71 191.43-426.71 426.73s191.42 426.7 426.71 426.7 426.73-191.4 426.73-426.7S747.66 84.91 512.36 84.91z" fill="#333333" p-id="27477"></path><path class="p" d="M512.36 857.39c-101.16 0-169.37-31.5-208.55-96.31-22.36-37.04-22.34-82.99 0.04-119.95 44.51-73.55 122.42-117.48 208.42-117.48 85.97 0 163.93 43.9 208.55 117.4 22.49 37.04 22.5 83.04 0.04 120.11-39.25 64.76-107.45 96.23-208.5 96.23z m-0.09-252.74c-57.41 0-109.41 29.32-139.13 78.43-6.74 11.13-6.74 24.97 0 36.12 23.58 39.02 67.83 57.21 139.23 57.21 71.34 0 115.58-18.19 139.24-57.21 6.75-11.15 6.75-24.99-0.01-36.12-29.82-49.12-81.9-78.43-139.33-78.43zM512.37 490.89c-82.25 0-149.16-66.91-149.16-149.16s66.91-149.16 149.16-149.16h149.16v149.16c0.01 82.25-66.9 149.16-149.16 149.16z m0-217.34c-37.59 0-68.18 30.58-68.18 68.18s30.58 68.18 68.18 68.18 68.18-30.58 68.18-68.18v-68.18h-68.18z" fill="#333333" p-id="27478"></path></svg>',
        },
      ],
    };
  },
  methods: {
    goTo(name) {
      const paths = document.querySelectorAll(".active .icon .p");
      paths.forEach((path) => {
        const len = path.getTotalLength();
        path.style.setProperty("--l", len);
      });
      if (router.currentRoute.path !== `/${name}`) {
        router.replace(name);
      }
    },
  },
};
</script>

<style scoped>
.footer_guide {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 96px;
  width: 100%;
  z-index: 100;
  display: flex;
  border-top-left-radius: 25px;
  justify-content: space-around;
  align-items: center;
  border-top-right-radius: 25px;
  background-color: #fff;
  box-shadow: 0 -4px 4px -4px rgba(0, 0, 0, 0.5);
}
</style>
<style>
.active .p {
  fill: none;
  stroke: #000;
  stroke-width: 40;
  stroke-dasharray: var(--l);
  stroke-dashoffset: 0;
  
}

.p {
  stroke: #000;
  stroke-dasharray: var(--l);
  stroke-dashoffset: var(--l);
  transition: all 4s;
}
</style> 